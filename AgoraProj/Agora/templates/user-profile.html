{% extends "master.html" %}
{% load static %}
{% load account %}

{% block css %}
    <link rel="stylesheet" href="{% static 'home/dashboard.css' %}">
    <script type="module" src="{% static 'js/toggle.js' %}"></script>
<<<<<<< HEAD
    <script type="module" src="{% static 'js/post.js' %}"></script>
=======
    <script type="module" src="{% static 'js/search.js' %}"></script>
>>>>>>> 81396d173fbc83a724cab1e1868c7a58497b0e17
    <link href="https://fonts.googleapis.com/css2?family=Croissant+One&display=swap" rel="stylesheet">  
{% endblock %}

{% block content %}
{% include "modal/edit-userprofile.html" %}
<<<<<<< HEAD
{% include "nav-right.html" %}


<div id="Comment-Overlay">

    <div class="Comment-Container">
        <div class="Comment-subCont">
            <div class="CC-Left">
                <div class="CC-Left-Images">

                </div>
                
                <div class="Comment-btn-cont">
                    <button class="prev-button"><img src="../static/images/arrow.png" alt=""></button>
                    <button class="next-button"><img src="../static/images/right-arrow.png" alt=""></button>
                </div>
                
            </div>
        
            <div class="CC-Right">
                <div class="CCR-Main1">
                    <div class="CCR-Top">
                        <div class="CCRT-Sub">
                            <div class="CCRT-Left">
                                <img class="Post-ProfilePic" src="">
                            </div>
                            <div class="CCRT-Right">
                                <p class="Post-FullName"></p>
                            </div>
                        </div>
                        
                        <div>
                            <button class="Close-Comment">x</button>
                        </div>
                    </div>

                    <div class="CCRT-Mid">
                        <div class="Caption-Content">
                            <p class="Post-Caption"></p>
                        </div>
                        <div class="Comments-Section">

                        </div>
                    </div>
                </div>
            
            
                <div class="CCR-Main2">
                    <div class="User-Comment-Cont">
                        {% if accountInfo %}
                        <div id="UserProf-Comment">
                            <img src="{{ accountInfo.profile_photo }}" alt="">
                        </div>
                        {% endif %}
                        
                        <input id="Comment-input" type="text" placeholder="Add a comment.."> 
                        <button id="Send-Comment">Send</button>
                    </div>
                
                </div>
            </div>
        </div>
    </div>
</div>

=======
    
>>>>>>> 81396d173fbc83a724cab1e1868c7a58497b0e17
<div id="root">
        {% if request.user.is_authenticated %}
    <!-- 
            <h1> Welcome, {{ request.user.username }}!</h1>
            <a href="{% url 'account_logout' %}">Sign Out</a>
        
        -->
        {% include "nav.html" %}

        <div class="NCenter">
                <div class="Profile-Container">
                    <div class="PPC-Cover-Container">
                        <input id="accountID" type="text" value="{{ accountInfo.id }}"  style="display:none" ;>
                        {% if accountInfo.cover_photo %}
                            <img id="UserCoverPhoto" src="{{ accountInfo.cover_photo }}">
                        {% else %}
                            <img id="UserCoverPhoto" src="https://ik.imagekit.io/mygh9x3hg/pexels-blitzboy-1144176.jpg">
                        {% endif %}
                    
                        <div class="PPC-Profile-Cont">
                            <div class="PPC-My-Profile">
                                <img src="{{ accountInfo.profile_photo }}">
                            </div>
                                <div class="PPC-Buttons">
                                    <div class="PPCB-Top">
                                    </div>
                                    <div class="PPCB-Bottom">
                                        {% if accountInfo.bio %}
                                        <div class="Bio-Div"><p>" {{ accountInfo.bio }} "</p></div>
                                        <button id="Edit-MyProfile">Edit Profile</button>
                                        {% else %}
                                        <div class="Bio-Div"><p>" Click Edit to Input Bio "</p></div>
                                        <button id="Edit-MyProfile">Edit Profile</button>
                                        {% endif %}
                                    </div>
                                </div>
                        </div>  
                    </div>

                    <div class="OnePurpose-Container"></div>
                    
                    <div class="PPC-ProfInfo-Cont">
                        <div class="PPC-Info-Left"></div>
                        <div class="PPC-Info-Mid">
                            {% if accountInfo %}
                            <h2>{{ accountInfo.firstname }} {{ accountInfo.lastname }}</h2>
                            {% endif %}
                        
                            <p>@{{ request.user.username }}</p>
                            <p>Joined {{ request.user.date_joined|date:"F j, Y" }}</p>
                        </div>
                    </div>

                    <div class="MyProfile-Nav">
                        <ul>
                            <li>About</li>
                        </ul>
                    </div>

                    <div class="UserProf-Main">
                        
                        <div class="User-About-Prof">

                            <div class="UBF-Content">
                                <h1>Other Information</h1>
                                <p>Birthdate: {{ accountInfo.Birthday }}</p>
                            </div>

                            <div class="UBF-Gallery"></div>
                        </div>

                        <div class="NCenter-content-user">
                            
                            {% if posts.posts_with_photos %}
<<<<<<< HEAD
                            {% for post, post_info in posts.posts_with_photos.items %}
                                <div class="User-Post-Container2">
                                    <div class="UPC-content-Top">
                                        <div class="UPCCT-Left">
                                            <a href="profile/{{ post.account.id }}">
                                                <div class="Post-Prof-Cont">
                                                    <img src="{{ post.account.profile_photo }}">
                                                </div>
                                            </a>
                                            <div class="Post-Prof-Cont2">
                                                <div id="Post-Prof-Cont-Name1" class="Post-Prof-Cont-Name">
                                                    <a href="profile/{{ post.account.id }}">
                                                        <p class="Photo-Post-username">{{ post.account.firstname }}</p>
                                                    </a>
                                                    <p class="Post-Photo-Date-Time">{{ post_info.time_ago }}</p>
                                                </div>
                                                <div class="Post-Prof-Cont-Username">
                                                    <p>@{{ post.account.auth_user.username }}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="UPCCT-Right">
                                        </div>
                                    </div>
                        
                                    {% if post_info.photos %}
                                    <div class="UPC-content-grid {% if post_info.photos|length == 3 %}three-photos{% endif %}">
                                        {% for photo in post_info.photos %}
                                            <div class="UPC-content {% if post_info.photos|length == 1 %}single-photo{% endif %}">
                                                <img src="{{ photo.link|add:'?cm-pad_resize,bg-F3F3F3' }}" alt="">
                                            </div>
                                        {% endfor %}
                                    </div>
                                    {% else %}
                                    <div class="UPCB-Tags" style="height: 2rem"></div>
                                    {% endif %}
                        
                                    <div class="UPC-content-Bottom">
                                        <div class="UPCB-Caption">
                                            <div class="Cap-User">
                                                <p>{{ post.account.firstname }}</p>
                                            </div>
                                            <div class="Cap-Caption">
                                                <p class="postCaption">{{ post.caption }}</p>
                                                <br>
                                            </div>
                                        </div>
                                        <div class="UPCB-Tags">
                                            {% for tag in post.tags.all %}
                                                <a href="/tags/{{ tag.id }}"><div><span class="hashtags">#{{ tag.tag }}</span></div></a>
                                            {% endfor %}
                                        </div>
                                        <div class="UPCB-Reacts">
                                            <div class="Reacts">
                                                <div class="GlowReact-Div" data-PostIDD="{{ post.id }}" data-AccID="{{ post.account.id }}">
                                                    {% if post.has_liked %}
                                                        <span class="ChangeGlow">&#10022;</span>
                                                    {% else %}
                                                        <img class="glow-react" src="../static/images/glow4.png" alt="Glow">
                                                    {% endif %}
                                                </div>
                                                <div class="React-Div Comment-Btn-Show" data-PostID="{{ post.id }}">
                                                    <img src="../static/images/chat (2).png" alt="">
                                                </div>
                                            </div>
                                            <div class="React-Counts">
                                                <div class="glow-count">
                                                    {% if post_info.glows_count > 1 %}
                                                        <p>{{ post_info.glows_count }} glows</p>
                                                    {% else %}
                                                        <p>{{ post_info.glows_count }} glow</p>
                                                    {% endif %}
                                                </div>
                                                <div class="Comments">
                                                    {% if post_info.comments_count > 1 %}
                                                        <p>{{ post_info.comments_count }} comments</p>
                                                    {% else %}
                                                        <p>{{ post_info.comments_count }} comment</p>
                                                    {% endif %}
=======
                                {% for post, photos in posts.posts_with_photos.items %}
                                    <div class="User-Post-Container2">
                                        <div class="UPC-content-Top">
                                            <div class="UPCCT-Left">
                                                <a href="profile/{{ post.account.id }}">
                                                    <div class="Post-Prof-Cont">
                                                        <img src="{{ post.account.profile_photo }}">
                                                    </div>
                                                </a>
                                                <div class="Post-Prof-Cont2">
                                                    <div id="Post-Prof-Cont-Name1" class="Post-Prof-Cont-Name">
                                                        <a href="profile/{{ post.account.id }}">
                                                            <p class="Photo-Post-username">{{ post.account.firstname }}</p>
                                                        </a>
                                                        <p class="Post-Photo-Date-Time">{{ post.time_ago }}</p>
                                                    </div>
                                                    <div class="Post-Prof-Cont-Username">
                                                        <p>@{{ post.account.auth_user.username }}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="UPCCT-Right">
                                            </div>
                                        </div>
                    
                                        {% if photos %}
                                        <div class="UPC-content-grid {% if photos|length == 3 %}three-photos{% endif %}">
                                            {% for photo in photos %}
                                                <div class="UPC-content {% if photos|length == 1 %}single-photo{% endif %}">
                                                    <img src="{{ photo.link|add:'?cm-pad_resize,bg-F3F3F3' }}" alt="">
                                                </div>
                                            {% endfor %}
                                        </div>
                                        {% else %}
                                        <div class="UPCB-Tags" style="height: 2rem"></div>
                                        {% endif %}
                    
                                        <div class="UPC-content-Bottom">
                                            <div class="UPCB-Caption">
                                                <div class="Cap-User">
                                                    <p>{{ post.account.firstname }}</p>
                                                </div>
                                                <div class="Cap-Caption">
                                                    <p class="postCaption">{{ post.caption }}</p>
                                                    <br>
                                                </div>
                                            </div>
                                            <div class="UPCB-Tags">
                                                {% for tag in post.tags.all %}
                                                    <a href="/tags/{{ tag.id }}"><div><span class="hashtags">#{{ tag.tag }}</span></div></a>
                                                {% endfor %}
                                            </div>
                                            <div class="UPCB-Reacts">
                                                <div class="Reacts">
                                                    <div class="GlowReact-Div" data-PostIDD="{{ post.id }}" data-AccID="{{ post.account.id }}">
                                                        {% if post.has_liked %}
                                                            <span class="ChangeGlow">&#10022;</span>
                                                        {% else %}
                                                            <img class="glow-react" src="../static/images/glow4.png" alt="Glow">
                                                        {% endif %}
                                                    </div>
                                                    <div class="React-Div Comment-Btn-Show" data-PostID="{{ post.id }}">
                                                        <img src="../static/images/chat (2).png" alt="">
                                                    </div>
                                                </div>
                                                <div class="React-Counts">
                                                    <div class="glow-count">
                                                        {% if post.glows_count > 1 %}
                                                            <p>{{ post.glows_count }} glows</p>
                                                        {% else %}
                                                            <p>{{ post.glows_count }} glow</p>
                                                        {% endif %}
                                                    </div>
                                                    <div class="Comments">
                                                        {% if post.comment_count > 1 %}
                                                            <p>{{ post.comment_count }} comments</p>
                                                        {% else %}
                                                            <p>{{ post.comment_count }} comment</p>
                                                        {% endif %}
                                                    </div>
>>>>>>> 81396d173fbc83a724cab1e1868c7a58497b0e17
                                                </div>
                                            </div>
                                        </div>
                                    </div>
<<<<<<< HEAD
                                </div>
                            {% endfor %}
                        
                        {% else %}

                            <style>
                            .UserProf-Main{
                                height: 45vh;      
                            }
                            </style>

                            <p id="Posts-Message">No posts yet</p>
                        {% endif %}
                        
=======
                                {% endfor %}

                                {% else %}
                                <p> No posts yet</p>
                            {% endif %}
>>>>>>> 81396d173fbc83a724cab1e1868c7a58497b0e17
                        </div>

                    </div>
                    
        
                </div>
        </div>

<<<<<<< HEAD
        
=======
        {% include "nav-right.html" %}
>>>>>>> 81396d173fbc83a724cab1e1868c7a58497b0e17
        
        <div id="messages"></div>
    {% endif %}
</div>
<script>
    let EditMyProfile = document.getElementById('Edit-MyProfile');
    let EditProfileOverlay = document.getElementById('EditProfile-Overlay');
    let EditProfileContainer = document.getElementById('EditProfile-Container');

    EditMyProfile.addEventListener('click', function(){
        EditProfileOverlay.style.display = "flex";
        event.stopPropagation();
    })

    document.addEventListener('click', function(event) {
        if(!EditProfileContainer.contains(event.target)){
            EditProfileOverlay.style.display = "none";
        }
    
    });
    
</script>

<<<<<<< HEAD

=======
>>>>>>> 81396d173fbc83a724cab1e1868c7a58497b0e17
{% endblock %}
